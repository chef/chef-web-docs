=====================================================
opscode-reporting-ctl (executable)
=====================================================
`[edit on GitHub] <https://github.com/chef/chef-web-docs/blob/master/chef_master/source/ctl_reporting.rst>`__

.. tag reporting_legacy

.. note:: This documentation is meant to support existing Chef customers using Reporting.

          Are you a new Chef customer, or looking to gain better insight into your fleet? Take advantage of `Chef Automate <https://www.chef.io/automate/>`__. You'll get a graphical interface and query language that gives you insight into operational, compliance, and workflow events. You can `try out Chef Automate here <https://automate.chef.io/docs/quickstart/>`__.

.. end_tag

The Reporting add-on to the Chef server that includes a command-line utility named opscode-reporting-ctl. This command-line tool is used to view, reconfigure, cleanse, and uninstall the Reporting add-on.

.. note:: .. tag chef_subscriptions

          This feature is included as part of the Chef Automate license agreement and is `available via subscription <https://www.chef.io/pricing/>`_.

          .. end_tag

cleanse
=====================================================
The ``cleanse`` subcommand is used to re-set the server to the state it was in before the first time the ``reconfigure`` subcommand is run to destroy all data, configuration files, and logs.

This subcommand has the following syntax:

.. code-block:: bash

   $ opscode-reporting-ctl cleanse

help
=====================================================
The ``help`` subcommand is used to print a list of all available opscode-reporting-ctl commands.

This subcommand has the following syntax:

.. code-block:: bash

   $ opscode-reporting-ctl help

reconfigure
=====================================================
The ``reconfigure`` subcommand is used when changes are made to the Chef server configuration file to reconfigure the server. When changes are made to the Chef server configuration file, they will not be applied to the Chef server configuration until after this command is run.

This subcommand has the following syntax:

.. code-block:: bash

   $ opscode-reporting-ctl reconfigure

remove-partition
=====================================================
The ``remove-partition`` subcommand remove partitions for a specific month and/or year or remove partitions that occur prior to a specified month and year.

This subcommand has the following syntax:

.. code-block:: bash

   $ opscode-reporting-ctl remove-partition

This tool has the following options:

``-b YYYY-MM``, ``--before YYYY-MM``
   Use to remove partitions that exist before the specified month (``MM``) in the specified year (``YYYY``).

``-d``, ``--dryrun``
   Use as part of a command to test partition removal, but without actually removing any partitions.

``-m YYYY-MM``, ``--month YYYY-MM``
   Use to remove partitions for the specified month (``MM``) in the specified year (``YYYY``).

``-y YYYY``, ``--year YYYY``
   Use to remove partitions for the specified year (``YYYY``).

show-config
=====================================================
The ``show-config`` subcommand is used to view the configuration that will be generated by the ``reconfigure`` subcommand. This command is most useful in the early stages of a deployment to ensure that everything is built properly prior to installation.

This subcommand has the following syntax:

.. code-block:: bash

   $ opscode-reporting-ctl show-config

uninstall
=====================================================
.. tag ctl_reporting_uninstall

The ``uninstall`` subcommand is used to remove the Reporting add-on to the Chef server, but without removing any of the data. This subcommand will shut down all services (including the ``runit`` process supervisor).

This subcommand has the following syntax:

.. code-block:: bash

   $ opscode-reporting-ctl uninstall

.. note:: To revert the ``uninstall`` subcommand, run the ``reconfigure`` subcommand (because the ``start`` subcommand is disabled by the ``uninstall`` command).

.. end_tag

