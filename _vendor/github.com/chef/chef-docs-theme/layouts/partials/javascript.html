{{- $browser := resources.Get "js/browser.js" -}}
{{- $fontawesome := resources.Get "js/vendor/fontawesome-free/all.min.js" -}}
{{- $foundation := resources.Get "js/vendor/foundation-sites/dist/js/foundation.min.js" -}}
{{- $hashchange := resources.Get "js/vendor/cowboy/jquery.ba-hashchange.min.js" -}}
{{- $hogan := resources.Get "js/vendor/twitter/hogan-3.0.2.min.js"}}
{{- $jquery := resources.Get "js/vendor/jquery/dist/jquery.min.js" -}}
{{- $swiftypeAutocomplete := resources.Get "js/vendor/swiftype/jquery.swiftype.autocomplete.js" -}}
{{- $swiftype := resources.Get "js/vendor/swiftype/jquery.swiftype.search.js" -}}
{{- $swiftypeConfig := resources.Get "js/swiftype-config.js" -}}
{{- $whatInput := resources.Get "js/vendor/what-input/what-input.min.js" -}}

{{- $coreJs := slice $fontawesome $jquery $foundation $whatInput $browser $hogan $hashchange $swiftypeAutocomplete $swiftype $swiftypeConfig -}}

{{ if hugo.Environment | eq "development" }}
  {{- $coreJs = $coreJs | resources.Concat "js/core-bundle.js" -}}
  <script src="{{ $coreJs.RelPermalink }}"></script>
{{ else }}
  {{- $coreJs = $coreJs | resources.Concat "js/core-bundle.js" | minify | fingerprint -}}
  <script src="{{ $coreJs.RelPermalink }}"></script>
{{ end }}

{{- $chefHugo := resources.Get "js/chef-hugo.js" -}}
{{- $copycodebutton := resources.Get "js/copy-code-button.js" -}}
{{- $feedback := resources.Get "js/feedback.js" -}}
{{- $imageModal := resources.Get "js/image-modal.js" -}}
{{- $inspecFilter := resources.Get "js/inspec-filter.js" -}}
{{- $resourceNote := resources.Get "js/resource-note.js" -}}

{{- $customJs := slice $copycodebutton $chefHugo $inspecFilter $resourceNote $feedback $imageModal -}}

{{ if hugo.Environment | eq "development" }}
  {{- $customJs = $customJs | resources.Concat "js/custom-bundle.js" -}}
  <script src="{{ $customJs.RelPermalink }}"></script>
{{ else }}
  {{- $customJs = $customJs | resources.Concat "js/custom-bundle.js" | minify | fingerprint -}}
  <script src="{{ $customJs.RelPermalink }}"></script>
{{ end }}
