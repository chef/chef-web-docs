
{{ $yaml_file := index .Site.Data.desktop.resources $.Page.Params.desktop_resource }}

<aside class="sticky sidebar" data-sticky data-top-anchor="utility-bar:bottom" data-btm-anchor="footer:top">
  <span>
    <strong>
      <h4 class="mini-toc-header">Table Of Contents</h4>
    </strong>

    <button class="close-button hide-for-large" aria-label="Close menu" type="button" data-close>
      <span aria-hidden="true">&times;</span>
    </button>
  </span>

  <a href="#{{ anchorize ( .Title )}}">{{ .Title }}</a>
  <ul>
    {{ if index $yaml_file "handler_types" }}
    <ul>
      <li>
        <a href="#handler_types">Handler Types</a>
        <ul>
          <li>
            <a href="#handler_type_exception_report">Exception / Report</a>
          </li>
          <li>
            <a href="#handler_type_start">Start</a>
          </li>
        </ul>
      </li>
    </ul>
    {{ end }}

    <li>
      <a href="#syntax">Syntax</a>
      {{ if index $yaml_file "registry_key" }}
      <ul>
        <li><a href="#windows_registry_key_backslashes">Registry Key Path Separators</a></li>
        <li>
          <a href="#dsl_recipe_method_windows_methods">Recipe DSL Methods</a>
          <ul>
            <li><a href="#dsl_recipe_method_registry_data_exists">registry_data_exists?</a></li>
            <li><a href="#dsl_recipe_method_registry_get_subkeys">registry_get_subkeys</a></li>
            <li><a href="#dsl_recipe_method_registry_get_values">registry_get_values</a></li>
            <li><a href="#dsl_recipe_method_registry_has_subkeys">registry_has_subkeys?</a></li>
            <li><a href="#dsl_recipe_method_registry_key_exists">registry_key_exists?</a></li>
            <li><a href="#dsl_recipe_method_registry_value_exists">registry_value_exists?</a></li>
          </ul>
        </li>
      </ul>
      {{ end }}
    </li>

    {{ if index $yaml_file "nameless_apt_update" }}
    <li><a href="#nameless">Nameless</a> </li>
    {{ end }}

    {{ if index $yaml_file "nameless_build_essential" }}
    <li><a href="#nameless">Nameless</a> </li>
    {{ end }}

    {{ if index $yaml_file "resource_package_options" }}
    <li>
      <a href="#resource_package_options">Gem Package Options</a>
      <ul>
        <li><a href="#resource_package_options_hash">Specify with Hash</a></li>
        <li><a href="#resource_package_options_string">Specify with String</a></li>
        <li><a href="#resource_package_options_gemrc">Specify with .gemrc File</a></li>
      </ul>
    </li>
    {{ end }}

    {{ if and ( index $yaml_file "actions_list" ) ( ne $yaml_file "actions_list" "" )}}
    <li><a href="#actions">Actions</a></li>
    {{ end }}

    <li>
      <a href="#properties">Properties</a>

      {{ if index $yaml_file "properties_multiple_packages" }}
      <ul>
        <li>
          <a href="#multiple-packages">Multiple Packages</a>
        </li>
      </ul>
      {{ end }}

      {{ if index $yaml_file "resource_directory_recursive_directories" }}
      <ul>
        <li>
          <a href="#resource_directory_recursive_directories">Recursive Directories</a>
        </li>
      </ul>
      {{ end }}

      {{ if index $yaml_file "resources_common_atomic_update" }}
      <ul>
        <li>
          <a href="#resources_common_atomic_update">Atomic File Updates</a>
        </li>
      </ul>
      {{ end }}

      {{ if index $yaml_file "properties_resources_common_windows_security" }}
      <ul>
        <li>
          <a href="#resources-common-windows-security">Windows File Security</a>
        </li>
      </ul>
      {{ end }}

      {{ if index $yaml_file "remote_file_prevent_re_downloads" }}
      <ul>
        <li>
          <a href="#prevent-re-downloads">Prevent Re-downloads</a>
        </li>
      </ul>
      {{ end }}

      {{ if index $yaml_file "remote_file_unc_path" }}
      <ul>
        <li>
          <a href="#access-a-remote-unc-path-on-windows">Access a remote UNC path on Windows</a>
        </li>
      </ul>
      {{ end }}

      {{ if index $yaml_file "ps_credential_helper" }}
      <ul>
        <li>
          <a href="#ps_credential-helper">ps_credential Helper</a>
        </li>
      </ul>
      {{ end }}
    </li>

    {{ if index $yaml_file "ruby_style_basics_chef_log" }}
    <li>
      <a href="#ruby_style_basics_chef_log">Chef::Log Entries</a>
    </li>
    {{ end }}

    {{ if index $yaml_file "debug_recipes_chef_shell" }}
    <li>
      <a href="#debug_recipes_chef_shell">Debug Recipes with chef-shell</a>
      <ul>
        <li><a href="#chef_shell_modes">Modes</a></li>
        <li>
          <a href="#debug_recipes_config">Configure</a>
          <ul>
            <li><a href="#chef_shell_config_rb">chef-shell.rb</a></li>
            <li><a href="#chef_shell_run_as_chef_client">Run as a Chef Infra Client</a></li>
          </ul>
        </li>
        <li><a href="#chef_shell_manage">Manage</a></li>
        <li>
          <a href="#chef_shell_breakpoints">Use Breakpoints</a>
          <ul>
            <li><a href="#chef_shell_step_through_run_list">Step Through Run-list</a></li>
            <li><a href="#chef_shell_debug_existing_recipe">Debug Existing Recipe</a></li>
            <li><a href="#chef_shell_advanced_debug">Advanced Debugging</a></li>
          </ul>
        </li>
        <li>
          <a href="#chef_shell_debug_examples">Debug Examples</a>
          <ul>
            <li><a href="#chef_shell_debug_example_hello_world">"Hello World"</a></li>
            <li><a href="#chef_shell_debug_examples_specific_nodes">Get Specific Nodes</a></li>
          </ul>
        </li>
      </ul>
    </li>
    {{ end }}

    {{ if index $yaml_file "template_requirements" }}
    <ul>
      <li>
        <a href="#template_requirements">Using Templates</a>
        <ul>
          <li><a href="#template_specificity">File Specificity</a></li>
          <li>
            <a href="#template_helpers">Helpers</a>
            <ul>
              <li><a href="#resource_template_inline_method">Inline Methods</a></li>
              <li><a href="#resource_template_inline_module">Inline Modules</a></li>
              <li><a href="#resource_template_library_module">Library Modules</a></li>
            </ul>
          </li>
          <li><a href="#template_host_notation">Host Notation</a></li>
          <li>
            <a href="#template_partials">Partial Templates</a>
            <ul>
              <li><a href="#template_partials_render_method">render Method</a></li>
            </ul>
          </li>
          <li><a href="#template_transfer_frequency">Transfer Frequency</a></li>
          <li><a href="#template_variables">Variables</a></li>
        </ul>
      </li>
    </ul>
    {{ end }}
		
		{{ if index $yaml_file "unit_file_verification" }}
			<li>
				<a href="#unit_file_verification">Unit file verification</a>
			</li>
		{{ end }}
		
		{{ if or ( index $yaml_file "resources_common_properties" ) ( index $yaml_file "resources_common_notification" ) ( index $yaml_file "resources_common_guards" ) ( index $yaml_file "common_resource_functionality_multiple_packages" ) ( index $yaml_file "resources_common_guard_interpreter" ) ( index $yaml_file "remote_directory_recursive_directories" ) ( index $yaml_file "common_resource_functionality_resources_common_windows_security" )}}
	    <li>
	      <a href="#functionality">Common Resource Functionality</a>

	      {{ if index $yaml_file "resources_common_properties" }}
	      <ul>
	        <li><a href="#resources_common_properties">Common Properties</a></li>
	      </ul>
	      {{ end }}

	      {{ if index $yaml_file "resources_common_notification" }}
	      <ul>
	        <li><a href="#resources_common_notifications">Notifications</a></li>
	      </ul>
	      {{ end }}

	      {{ if index $yaml_file "resources_common_guards" }}
	      <ul>
	        <li><a href="#guards">Guards</a></li>
	      </ul>
	      {{ end }}

	      {{ if index $yaml_file "common_resource_functionality_multiple_packages" }}
	      <ul>
	        <li><a href="#multiple-packages">Multiple Packages</a></li>
	      </ul>
	      {{ end }}

	      {{ if index $yaml_file "resources_common_guard_interpreter" }}
	      <ul>
	        <li><a href="#guard-interpreter">Guard Interpreter</a></li>
	      </ul>
	      {{ end }}

	      {{ if index $yaml_file "remote_directory_recursive_directories" }}
	      <ul>
	        <li>
	          <a href="#recursive-directories">Recursive Directories</a>
	          <ul>
	            <li><a href="#recursive_directories_example">Example</a></li>
	          </ul>
	        </li>
	      </ul>
	      {{ end }}


	      {{ if index $yaml_file "common_resource_functionality_resources_common_windows_security" }}
	      <ul>
	        <li><a href="#resources_common_windows_security">Windows File Security</a></li>
	      </ul>
	      {{ end }}
	    </li>
		{{ end }}

    {{ if index $yaml_file "handler_custom" }}
    <li>
      <a href="#handler_custom">Custom Handlers</a>
      <ul>
        <li><a href="#handler_custom_syntax">Syntax</a></li>
        <li><a href="#handler_custom_interface_report">report Interface</a></li>
        <li>
          <a href="#handler_custom_optional_interfaces">Optional Interfaces</a>
          <ul>
            <li><a href="#layouts/shortcodes/handler_custom_interface_data.md">data</a></li>
            <li><a href="#handler_custom_interface_run_report_safely">run_report_safely</a></li>
            <li><a href="#handler_custom_interface_run_report_unsafe">run_report_unsafe</a></li>
          </ul>
        </li>
        <li><a href="#handler_custom_object_run_status">run_status Object</a></li>
      </ul>
    </li>
    {{ end }}
    {{ if index $yaml_file "cookbook_file_specificity" }}
    <ul>
      <li><a href="#cookbook_file_specificity">File Specificity</a></li>
    </ul>
    {{ end }}

    <li><a href="#examples">Examples</a></li>

  </ul>
</aside>
